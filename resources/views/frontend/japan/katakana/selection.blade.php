
<table id="kana_choice">
    <tbody><tr id="vowel_activators">
        <td class="clickable deactivate" id="everything">Deactivate Everything</td>
        <td class="clickable activate" id="" style="display: table-cell;">Activate All&nbsp;-a</td>
        <td class="clickable activate" id="">Activate All&nbsp;-i</td>
        <td class="clickable activate" id="">Activate All&nbsp;-u</td>
        <td class="clickable activate" id="">Activate All&nbsp;-e</td>
        <td class="clickable activate" id="">Activate All&nbsp;-o</td>
        <td class="yoon" colspan="3" rowspan="2" style="background-color: rgb(255, 255, 255); display: none;"></td>
    </tr>
    <tr id="row_a">
        <td class="deactivate" id="all_vowel">Deactivate All&nbsp;a</td>
        <td class="clickable active" id="a">a&nbsp; ア</td>
        <td class="clickable active" id="i">i&nbsp; イ</td>
        <td class="clickable active" id="u">u&nbsp; ウ</td>
        <td class="clickable active" id="e">e&nbsp; エ</td>
        <td class="clickable active" id="o">o&nbsp; オ</td>
    </tr>
    <tr id="row_k">
        <td class="activate" id="all_k">Activate All&nbsp;k-</td>
        <td class="clickable active" id="ka">ka&nbsp; カ</td>
        <td class="clickable active" id="ki">ki&nbsp; キ</td>
        <td class="clickable inactive" id="ku">ku&nbsp; ク</td>
        <td class="clickable inactive" id="ke">ke&nbsp; ケ</td>
        <td class="clickable active" id="ko">ko&nbsp;コ</td>
        <td class="yoon" id="kya" style="display: none;">kya&nbsp; きゃ</td>
        <td class="yoon" id="kyu" style="display: none;">kyu&nbsp; きゅ</td>
        <td class="yoon" id="kyo" style="display: none;">kyo&nbsp; きょ</td>
    </tr>
    <tr id="row_s">
        <td class="activate" id="all_s">Activate All&nbsp;s-</td>
        <td class="clickable inactive" id="sa">sa&nbsp; サ</td>
        <td class="clickable active" id="shi">shi&nbsp; シ</td>
        <td class="clickable active" id="su">su&nbsp; ス</td>
        <td class="clickable inactive" id="se">se&nbsp; セ</td>
        <td class="clickable inactive" id="so">so&nbsp; ソ</td>
        <td class="yoon" id="sha" style="display: none;">sha&nbsp; しゃ</td>
        <td class="yoon" id="shu" style="display: none;">shu&nbsp; しゅ</td>
        <td class="yoon" id="sho" style="display: none;">sho&nbsp; しょ</td>
    </tr>
    <tr id="row_t">
        <td class="deactivate" id="all_t">Deactivate All&nbsp;t-</td>
        <td class="clickable active" id="ta">ta&nbsp; タ</td>
        <td class="clickable active" id="chi">chi&nbsp; チ</td>
        <td class="clickable active" id="tsu">tsu&nbsp; ツ</td>
        <td class="clickable active" id="te">te&nbsp; テ</td>
        <td class="clickable active" id="to">to&nbsp; テ</td>
        <td class="yoon" id="cha" style="display: none;">cha&nbsp; ちゃ</td>
        <td class="yoon" id="chu" style="display: none;">chu&nbsp; ちゅ</td>
        <td class="yoon" id="cho" style="display: none;">cho&nbsp; ちょ</td>
    </tr>
    <tr id="row_n">
        <td class="activate" id="all_n">Activate All&nbsp;n-</td>
        <td class="clickable inactive" id="na">na&nbsp; ナ</td>
        <td class="clickable active" id="ni">ni&nbsp; ニ</td>
        <td class="clickable inactive" id="nu">nu&nbsp; ヌ</td>
        <td class="clickable active" id="ne">ne&nbsp; ネ</td>
        <td class="clickable inactive" id="no">no&nbsp; ノ</td>
        <td class="yoon" id="nya" style="display: none;">nya&nbsp; にゃ</td>
        <td class="yoon" id="nyu" style="display: none;">nyu&nbsp; にゅ</td>
        <td class="yoon" id="nyo" style="display: none;">nyo&nbsp; にょ</td>
    </tr>
    <tr id="row_h">
        <td class="activate" id="all_h">Activate All&nbsp;h-</td>
        <td class="clickable inactive" id="ha">ha&nbsp; ハ</td>
        <td class="clickable active" id="hi">hi&nbsp; ヒ</td>
        <td class="clickable active" id="fu">fu&nbsp; フ</td>
        <td class="clickable inactive" id="he">he&nbsp; ヘ</td>
        <td class="clickable inactive" id="ho">ho&nbsp; ホ</td>
        <td class="yoon" id="hya" style="display: none;">hya&nbsp; ひゃ</td>
        <td class="yoon" id="hyu" style="display: none;">hyu&nbsp; ひゅ</td>
        <td class="yoon" id="hyo" style="display: none;">hyo&nbsp; ひょ</td>
    </tr>
    <tr id="row_m">
        <td class="activate" id="all_m">Activate All&nbsp;m-</td>
        <td class="clickable inactive" id="ma">ma&nbsp; マ</td>
        <td class="clickable active" id="mi">mi&nbsp; ミ</td>
        <td class="clickable inactive" id="mu">mu&nbsp; ム</td>
        <td class="clickable inactive" id="me">me&nbsp; メ</td>
        <td class="clickable inactive" id="mo">mo&nbsp; モ</td>
        <td class="yoon" id="mya" style="display: none;">mya&nbsp; みゃ</td>
        <td class="yoon" id="myu" style="display: none;">myu&nbsp; みゅ</td>
        <td class="yoon" id="myo" style="display: none;">myo&nbsp; みょ</td>
    </tr>
    <tr id="row_y">
        <td class="activate" id="all_y">Activate All&nbsp;y-</td>
        <td class="clickable active" id="ya">ya&nbsp; モ</td>
        <td></td>
        <td class="clickable inactive" id="yu">yu&nbsp; ユ</td>
        <td></td>
        <td class="clickable inactive" id="yo">yo&nbsp; ヨ</td>
        <td class="yoon" colspan="3" style="background-color: rgb(255, 255, 255); display: none;"></td>
    </tr>
    <tr id="row_r">
        <td class="activate" id="all_r">Activate All&nbsp;r-</td>
        <td class="clickable active" id="ra">ra&nbsp; ラ</td>
        <td class="clickable inactive" id="ri">ri&nbsp; リ</td>
        <td class="clickable inactive" id="ru">ru&nbsp; ル</td>
        <td class="clickable inactive" id="re">re&nbsp; レ</td>
        <td class="clickable inactive" id="ro">ro&nbsp; ロ</td>
        <td class="yoon" id="rya" style="display: none;">rya&nbsp; りゃ</td>
        <td class="yoon" id="ryu" style="display: none;">ryu&nbsp; りゅ</td>
        <td class="yoon" id="ryo" style="display: none;">ryo&nbsp; りょ</td>
    </tr>
    <tr id="row_w">
        <td class="activate" id="all_w">Activate All&nbsp;w-</td>
        <td class="clickable inactive" id="wa">wa&nbsp; ワ</td>
        <td></td>
        <td></td>
        <td class="clickable inactive" id="wo">wo&nbsp; ヲ</td>
        <td class="yoon" colspan="3" style="background-color: rgb(255, 255, 255); display: none;"></td>
    </tr>
    <tr id="row_bare_n">
        <td></td>
        <td></td>
        <td></td>
        <td></td>
        <td></td>
        <td class="clickable active" id="n">n&nbsp; ン</td>
        <td class="yoon" colspan="3" style="background-color: rgb(255, 255, 255); display: none;"></td>
    </tr>
    <tr id="row_g">
        <td class="dakuten" rowspan="5" style="background-color: rgb(255, 255, 255); display: none;"></td>
        <td class="dakuten" id="ga" style="display: none;">ga&nbsp; が</td>
        <td class="dakuten" id="gi" style="display: none;">gi&nbsp; ぎ</td>
        <td class="dakuten" id="gu" style="display: none;">gu&nbsp; ぐ</td>
        <td class="dakuten" id="ge" style="display: none;">ge&nbsp; げ</td>
        <td class="dakuten" id="go" style="display: none;">go&nbsp; ご</td>
        <td class="dakuten_yoon" id="gya" style="display: none;">gya&nbsp; ぎゃ</td>
        <td class="dakuten_yoon" id="gyu" style="display: none;">gyu&nbsp; ぎゅ</td>
        <td class="dakuten_yoon" id="gyo" style="display: none;">gyo&nbsp; ぎょ</td>
    </tr>
    <tr id="row_z">
        <td class="dakuten" id="za" style="display: none;">za&nbsp; ざ</td>
        <td class="dakuten" id="ji" style="display: none;">ji&nbsp; じ</td>
        <td class="dakuten" id="zu" style="display: none;">zu&nbsp; ず</td>
        <td class="dakuten" id="ze" style="display: none;">ze&nbsp; ぜ</td>
        <td class="dakuten" id="zo" style="display: none;">zo&nbsp; ぞ</td>
        <td class="dakuten_yoon" id="ja" style="display: none;">ja&nbsp; じゃ</td>
        <td class="dakuten_yoon" id="ju" style="display: none;">ju&nbsp; じゅ</td>
        <td class="dakuten_yoon" id="jo" style="display: none;">jo&nbsp; じょ</td>
    </tr>
    <tr id="row_d">
        <td class="dakuten" id="da" style="display: none;">da&nbsp; だ</td>
        <td class="dakuten" id="dji" style="display: none;">ji*&nbsp; ぢ</td>
        <td class="dakuten" id="dzu" style="display: none;">zu*&nbsp; づ</td>
        <td class="dakuten" id="de" style="display: none;">de&nbsp; で</td>
        <td class="dakuten" id="do" style="display: none;">do&nbsp; ど</td>
        <td class="dakuten_yoon" id="jya" style="display: none;">ja*&nbsp; ぢゃ</td>
        <td class="dakuten_yoon" id="jyu" style="display: none;">ju*&nbsp; ぢゅ</td>
        <td class="dakuten_yoon" id="jyo" style="display: none;">jo*&nbsp; ぢょ</td>
    </tr>
    <tr id="row_b">
        <td class="dakuten" id="ba" style="display: none;">ba&nbsp; ば</td>
        <td class="dakuten" id="bi" style="display: none;">bi&nbsp; び</td>
        <td class="dakuten" id="bu" style="display: none;">bu&nbsp; ぶ</td>
        <td class="dakuten" id="be" style="display: none;">be&nbsp; べ</td>
        <td class="dakuten" id="bo" style="display: none;">bo&nbsp; ぼ</td>
        <td class="dakuten_yoon" id="bya" style="display: none;">bya&nbsp; びゃ</td>
        <td class="dakuten_yoon" id="byu" style="display: none;">byu&nbsp; びゅ</td>
        <td class="dakuten_yoon" id="byo" style="display: none;">byo&nbsp; びょ</td>
    </tr>
    <tr id="row_p">
        <td class="dakuten" id="pa" style="display: none;">pa&nbsp; ぱ</td>
        <td class="dakuten" id="pi" style="display: none;">pi&nbsp; ぴ</td>
        <td class="dakuten" id="pu" style="display: none;">pu&nbsp; ぷ</td>
        <td class="dakuten" id="pe" style="display: none;">pe&nbsp; ぺ</td>
        <td class="dakuten" id="po" style="display: none;">po&nbsp; ぽ</td>
        <td class="dakuten_yoon" id="pya" style="display: none;">pya&nbsp; ぴゃ</td>
        <td class="dakuten_yoon" id="pyu" style="display: none;">pyu&nbsp; ぴゅ</td>
        <td class="dakuten_yoon" id="pyo" style="display: none;">pyo&nbsp; ぴょ</td>
    </tr>
    </tbody>
</table>
<form method="post" id="frm">
    {{ csrf_field() }}
    <input type="hidden" name="chooseId">
    <input id="startTest" type="button" value="Test Me">
</form>
<script>
    var chooseId = [];
    $('#startTest').click(function(){
        $('.clickable').each(function(index){
            if($(this).hasClass('active')){
                chooseId.push($(this).attr('id'));
            }
        });
        $('input[name=chooseId]').val(JSON.stringify(chooseId));
        $('#frm').submit();
    });
    function setToggle(element, index) {
        var active = element.hasClass('active');
        if(active){
            element.html('Active All ' + index);
            element.removeClass('active').addClass('deactive');
        }
        else{
            element.html('Deactive All ' + index);
            element.removeClass('deactive').addClass('active');
        }
    }
    function setStatus(element,status) {
        if(status == 0){
            //set inactive
            element.removeClass('active');
            element.addClass('inactive');
        }else{
            //set active
            element.removeClass('inactive');
            element.addClass('active');
        }
    }

    function rowToggle(head,index) {
        var active = head.hasClass('active');
        setToggle(head, index);
        $('#row_'+ index + ' td.clickable').each(function(index){
            setStatus($(this), active);
        });
    }

    $('#all_vowel').click(function(){
        rowToggle($(this),'a');
    });

    $('#all_k').click(function(){
        rowToggle($(this),'k');
    });
    $('#all_s').click(function(){
        rowToggle($(this),'s');
    });
    $('#all_t').click(function(){
        rowToggle($(this),'t');
    });
    $('#all_n').click(function(){
        rowToggle($(this),'n');
    });
    $('#all_h').click(function(){
        rowToggle($(this),'h');
    });
    $('#all_m').click(function(){
        rowToggle($(this),'m');
    });
    $('#all_y').click(function(){
        rowToggle($(this),'y');
    });
    $('#all_r').click(function(){
        rowToggle($(this),'r');
    });
    $('#all_w').click(function(){
        rowToggle($(this),'w');
    });
    $('.clickable').click(function(){
        setStatus($(this),!$(this).hasClass('active'));
    });
</script>